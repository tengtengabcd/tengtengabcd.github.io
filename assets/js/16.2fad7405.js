(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{528:function(_,v,i){"use strict";i.r(v);var l=i(7),t=Object(l.a)({},(function(){var _=this,v=_.$createElement,i=_._self._c||v;return i("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[i("h3",{attrs:{id:"主知识点七-表链接"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#主知识点七-表链接"}},[_._v("#")]),_._v(" 主知识点七：表链接")]),_._v(" "),i("p",[_._v("链接来自：https://mubu.com/doc/4VC7JuHlj6H")]),_._v(" "),i("p",[_._v("【基础语法】")]),_._v(" "),i("blockquote",[i("ul",[i("li",[i("p",[_._v("内连接")]),_._v(" "),i("ul",[i("li",[i("p",[_._v("select 字段名")])]),_._v(" "),i("li",[i("p",[_._v("from 表格名1 inner join 表格名2 on 表格名1.字段名 =  表格名2.字段名")])]),_._v(" "),i("li",[i("p",[_._v("注意内连接inner可以省略，直接使用join默认为内连接")])])])]),_._v(" "),i("li",[i("p",[_._v("左连接")]),_._v(" "),i("ul",[i("li",[i("p",[_._v("select 字段名")])]),_._v(" "),i("li",[i("p",[_._v("from 表格名1 left join 表格名2 on 表格名1.字段名 =  表格名2.字段名")])])])]),_._v(" "),i("li",[i("p",[_._v("右连接")]),_._v(" "),i("ul",[i("li",[i("p",[_._v("select 字段名")])]),_._v(" "),i("li",[i("p",[_._v("from 表格名1 right join 表格名2 on 表格名1.字段名 =  表格名2.字段名")])])])])])]),_._v(" "),i("p",[_._v("【语法解释】")]),_._v(" "),i("ul",[i("li",[i("p",[_._v("join表连接通过on 表格名1.字段名 =  表格名2.字段名，将两个表格各自的字段等值连接来匹配连接，无法匹配的填充null值")]),_._v(" "),i("p",[_._v("​")]),_._v(" "),i("ul",[i("li",[_._v("【Excel演示】\n"),i("ul",[i("li",[i("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/b0ba7668-6cf5-4196-bc7a-030df71b7fed-9404487.jpg",alt:"img"}})])])])])]),_._v(" "),i("li",[i("p",[_._v("inner join内连接，连接两个表留下同时互相匹配上的行得到新表")]),_._v(" "),i("p",[_._v("​")]),_._v(" "),i("ul",[i("li",[i("p",[_._v("【Excel演示】")]),_._v(" "),i("p",[_._v("​")]),_._v(" "),i("ul",[i("li",[i("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/56dd69a8-35b2-4762-9697-60bba7efb2c8-9404487.jpg",alt:"img"}})])])])])]),_._v(" "),i("li",[i("p",[_._v("left join左连接，左边的表返回所有行，右边的表只留下匹配上的行得到新表")]),_._v(" "),i("p",[_._v("​")]),_._v(" "),i("ul",[i("li",[i("p",[_._v("【Excel演示】")]),_._v(" "),i("p",[_._v("​")]),_._v(" "),i("ul",[i("li",[i("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/257eefa9-467b-494f-a431-6c531421847b-9404487.jpg",alt:"img"}})])])])])]),_._v(" "),i("li",[i("p",[_._v("right join右连接，右边的表返回所有行，左边的表只留下匹配上的行得到新表")]),_._v(" "),i("p",[_._v("​")]),_._v(" "),i("ul",[i("li",[i("p",[_._v("【Excel演示】")]),_._v(" "),i("p",[_._v("​")]),_._v(" "),i("ul",[i("li",[i("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/084389ab-de04-4dec-bed5-f500dfe190ae-9404487.jpg",alt:"img"}})])])])])]),_._v(" "),i("li",[i("p",[_._v("from 表1 left join 表2 on 表1.字段A = 表2.字段B 等价于 from 表2 right join 表1 on 表1.字段A = 表2.字段B")])])]),_._v(" "),i("p",[_._v("【总结】")]),_._v(" "),i("blockquote",[i("ul",[i("li",[i("p",[_._v("【内连接inner join语法】")]),_._v(" "),i("ul",[i("li",[i("p",[_._v("select 字段名")])]),_._v(" "),i("li",[i("p",[_._v("from 表格名1 inner join 表格名2 on 表格名1.字段名 =  表格名2.字段名")])]),_._v(" "),i("li",[i("p",[_._v("注意内连接inner可以省略，直接使用join默认为内连接")])])])]),_._v(" "),i("li",[i("p",[_._v("【左连接left join语法】")]),_._v(" "),i("ul",[i("li",[i("p",[_._v("select 字段名")])]),_._v(" "),i("li",[i("p",[_._v("from 表格名1 left join 表格名2 on 表格名1.字段名 =  表格名2.字段名")])])])]),_._v(" "),i("li",[i("p",[_._v("【右连接right join语法】")]),_._v(" "),i("ul",[i("li",[i("p",[_._v("select 字段名")])]),_._v(" "),i("li",[i("p",[_._v("from 表格名1 right join 表格名2 on 表格名1.字段名 =  表格名2.字段名")])])])])])]),_._v(" "),i("h3",{attrs:{id:"主知识点八-常用函数"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#主知识点八-常用函数"}},[_._v("#")]),_._v(" 主知识点八：常用函数")]),_._v(" "),i("p",[_._v("【条件函数语法】")]),_._v(" "),i("ul",[i("li",[i("p",[_._v("case when")]),_._v(" "),i("ul",[i("li",[i("blockquote",[i("p",[_._v("case 字段名 when 值1 then 值2 else 值3 end")])])]),_._v(" "),i("li",[i("p",[_._v("【解释】")]),_._v(" "),i("ul",[i("li",[_._v("创建新的一列字段，当某字段等于值1在新列中就等于值2，除此之外的数据在新列中就等于值3")])])]),_._v(" "),i("li",[i("p",[_._v("或")])]),_._v(" "),i("li",[i("blockquote",[i("p",[_._v("case when 字段名 运算符 值1 then 值2 else 值3 end")])])]),_._v(" "),i("li",[i("p",[_._v("【解释】")]),_._v(" "),i("ul",[i("li",[_._v("创建新的一列字段，字段名 运算符 值1这一部分可以看成是条件代码，当某字段符合条件时，在新列中就等于值2，除此之外的数据在新列中就等于值3")])])])])]),_._v(" "),i("li",[i("p",[_._v("if")]),_._v(" "),i("ul",[i("li",[i("blockquote",[i("p",[_._v("if(字段名 运算符 值1,值2,值3)")])])]),_._v(" "),i("li",[i("p",[_._v("【解释】")]),_._v(" "),i("ul",[i("li",[_._v("创建新的一列字段，如果字段满足条件，在新列中就等于值2，否则就等于值3")])])])])]),_._v(" "),i("li",[i("p",[_._v("【数据类型转换函数语法】")]),_._v(" "),i("ul",[i("li",[i("p",[_._v("cast")]),_._v(" "),i("ul",[i("li",[i("p",[_._v("cast(字段名 as type)")])]),_._v(" "),i("li",[i("p",[_._v("type:date或int等")])]),_._v(" "),i("li",[i("p",[_._v("【解释】")]),_._v(" "),i("ul",[i("li",[_._v("将字段从原来的数据类型转换成指定的数据类型，比如日期date，整数型int等，在type的位置填写指定的参数即可")])])])])]),_._v(" "),i("li",[i("p",[_._v("date_formate")])]),_._v(" "),i("li",[i("p",[_._v("date_formate")]),_._v(" "),i("ul",[i("li",[i("p",[_._v("date_formate(date,formate)")])]),_._v(" "),i("li",[i("p",[_._v("格式")]),_._v(" "),i("ul",[i("li",[i("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/cf80473f-0688-46a4-abf9-8bb0d09cf056-9404487.jpg",alt:"img"}})])])]),_._v(" "),i("li",[i("p",[_._v("常用日期格式")]),_._v(" "),i("ul",[i("li",[i("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/aafe6d91-878e-4ca6-abb9-e5021f2e862f-9404487.jpg",alt:"img"}})])])]),_._v(" "),i("li",[i("p",[_._v("【解释】")]),_._v(" "),i("ul",[i("li",[i("p",[_._v("date_formate用于以不同格式显示日期/时间数据。date 指合法的日期字段，format 规定日期/时间的输出格式，记得格式外加单引号")])]),_._v(" "),i("li",[i("p",[_._v("例如：date_formate('2021-06-01','%m/%d/%Y')返回数据06/01/2021")])])])])])])])]),_._v(" "),i("li",[i("p",[_._v("【日期函数语法】")])]),_._v(" "),i("li",[i("p",[_._v("【日期函数语法】")]),_._v(" "),i("ul",[i("li",[i("p",[_._v("year、month、day")]),_._v(" "),i("ul",[i("li",[i("p",[_._v("year(date)")])]),_._v(" "),i("li",[i("p",[_._v("month(date)")])]),_._v(" "),i("li",[i("p",[_._v("day(date)")])]),_._v(" "),i("li",[i("p",[_._v("【解释】")]),_._v(" "),i("ul",[i("li",[i("p",[_._v("year函数提取数据格式为日期或时间字段的年份")])]),_._v(" "),i("li",[i("p",[_._v("month提取月份，day提取几号")])]),_._v(" "),i("li",[i("p",[_._v("hour, minute, second等函数同理")])]),_._v(" "),i("li",[i("p",[_._v("例如：year('2021-06-01')返回数据2021")])])])])])]),_._v(" "),i("li",[i("p",[_._v("now")])]),_._v(" "),i("li",[i("p",[_._v("now")]),_._v(" "),i("ul",[i("li",[i("p",[_._v("now()")])]),_._v(" "),i("li",[i("p",[_._v("【解释】没有其他参数，返回当前的日期和时间")])])])]),_._v(" "),i("li",[i("p",[_._v("date_add")])]),_._v(" "),i("li",[i("p",[_._v("date_add")]),_._v(" "),i("ul",[i("li",[i("p",[_._v("date_add(date,interval 值 type)")])]),_._v(" "),i("li",[i("p",[_._v("type")]),_._v(" "),i("p",[_._v("​")]),_._v(" "),i("ul",[i("li",[i("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/c80aa065-bf2e-4bbd-ad38-f3d0595b1c52-9404487.jpg",alt:"img"}})])])]),_._v(" "),i("li",[i("p",[_._v("【解释】")]),_._v(" "),i("ul",[i("li",[i("p",[_._v("向日期添加指定的时间间隔")])]),_._v(" "),i("li",[i("p",[_._v("例如：date_add('2021-06-01',interval 2 day)，向日期函数2021-06-01加了2天，返回值2021-06-03")])])])])])]),_._v(" "),i("li",[i("p",[_._v("date_sub")])]),_._v(" "),i("li",[i("p",[_._v("date_sub")]),_._v(" "),i("ul",[i("li",[i("p",[_._v("date_sub(date,interval 值 type)")])]),_._v(" "),i("li",[i("p",[_._v("【解释】")]),_._v(" "),i("ul",[i("li",[i("p",[_._v("从日期减去指定的时间间隔")])]),_._v(" "),i("li",[i("p",[_._v("type参数与date_add相同，使用方法也相同")])])])])])]),_._v(" "),i("li",[i("p",[_._v("datediff")])]),_._v(" "),i("li",[i("p",[_._v("datediff")]),_._v(" "),i("ul",[i("li",[i("p",[_._v("datediff(date1,date2)")])]),_._v(" "),i("li",[i("p",[_._v("【解释】")]),_._v(" "),i("ul",[i("li",[i("p",[_._v("返回两个日期之间的天数，date1-date2")])]),_._v(" "),i("li",[i("p",[_._v("date1 和 date2 代表是日期或日期加时间的表达式")])]),_._v(" "),i("li",[i("p",[_._v("注意只有值的日期部分参与计算")])]),_._v(" "),i("li",[i("p",[_._v("例如：datediff('2021-06-08','2021-06-01')返回7，datediff('2021-06-01','2021-06-08')返回-7")])])])])])])])]),_._v(" "),i("li",[i("p",[_._v("【字符处理函数语法】")]),_._v(" "),i("ul",[i("li",[i("p",[_._v("round")]),_._v(" "),i("ul",[i("li",[i("p",[_._v("round(字段名,小数指定位数)")])]),_._v(" "),i("li",[i("p",[_._v("【解释】")]),_._v(" "),i("ul",[i("li",[i("p",[_._v("round函数将数值字段舍入到指定的小数位数")])]),_._v(" "),i("li",[i("p",[_._v("例如：round(3.15,1)返回数据3.2")])])])])])]),_._v(" "),i("li",[i("p",[_._v("concat")])]),_._v(" "),i("li",[i("p",[_._v("concat")]),_._v(" "),i("ul",[i("li",[i("p",[_._v("concat(字段名1,字段名2,'字符串')")])]),_._v(" "),i("li",[i("p",[_._v("【解释】")]),_._v(" "),i("ul",[i("li",[i("p",[_._v("concat是字符串拼接函数，用于将多个字符串连接在一起")])]),_._v(" "),i("li",[i("p",[_._v("例如：concat('123',' ','ABC')返回数据123 ABC")])])])])])]),_._v(" "),i("li",[i("p",[_._v("left、right")])]),_._v(" "),i("li",[i("p",[_._v("left、right")]),_._v(" "),i("ul",[i("li",[i("p",[_._v("left(字符串,n)")])]),_._v(" "),i("li",[i("p",[_._v("right(字符串,n)")])]),_._v(" "),i("li",[i("p",[_._v("【解释】")]),_._v(" "),i("ul",[i("li",[i("p",[_._v("left函数返回字符串从左到右n个字符")])]),_._v(" "),i("li",[i("p",[_._v("right函数返回字符串从右到左n个字符")])]),_._v(" "),i("li",[i("p",[_._v("例如：left('123456',2)返回12，right('123456',3)返回456")])])])])])]),_._v(" "),i("li",[i("p",[_._v("substring")])]),_._v(" "),i("li",[i("p",[_._v("substring")]),_._v(" "),i("ul",[i("li",[i("p",[_._v("substring(字符串,x,y)")])]),_._v(" "),i("li",[i("p",[_._v("【解释】")]),_._v(" "),i("ul",[i("li",[i("p",[_._v("substring函数用来截取字符串从x位开始取y位，如果没有y则取从x位开始到最后一位")])]),_._v(" "),i("li",[i("p",[_._v("例如：substring('New York',3,4)返回w Yo，substring('New York',3)返回w York")])])])])])])])])]),_._v(" "),i("h3",{attrs:{id:"主知识点九-窗口函数"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#主知识点九-窗口函数"}},[_._v("#")]),_._v(" 主知识点九：窗口函数")]),_._v(" "),i("p",[_._v("【标准语法】")]),_._v(" "),i("ul",[i("li",[i("p",[_._v("窗口函数 over (partition by 用于分组的字段名 order by 用于排序的字段名)")])]),_._v(" "),i("li",[i("p",[_._v("常用窗口函数")]),_._v(" "),i("p",[i("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/38650b76-a784-46fc-a545-be5cc2483302-9404487.jpg",alt:"img"}})])]),_._v(" "),i("li",[i("p",[_._v("窗口函数rank()over()是在指定分区(partition by)对指定字段排序(order by)然后依次赋予排名的函数")])]),_._v(" "),i("li",[i("p",[_._v("【题目】")]),_._v(" "),i("blockquote",[i("p",[_._v("查询每一年S14000021选区中所有候选人所在的团体party和选票数votes")]),_._v(" "),i("p",[_._v("并且对每一年中的所有候选人根据选票数的高低进行排名posn，选票数最高则为第一名，后续以此类推")]),_._v(" "),i("p",[_._v("最后根据团体party和年份yr排序")])])]),_._v(" "),i("li",[i("p",[_._v("先查看题目表格")]),_._v(" "),i("p",[_._v("记录了每一年yr，候选人名字firstname和姓氏lastname,所属选区constituency和团体party，以及选票数votes"),i("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/45ae484b-4baa-4706-9bd5-ee337bbbf3a0-9404487.jpg",alt:"img"}})])]),_._v(" "),i("li",[i("p",[_._v("查询每一年S14000021选区中所有候选人所在的团体party和选票数votes，写出代码")]),_._v(" "),i("blockquote",[i("p",[_._v("​")]),_._v(" "),i("p",[_._v("select")]),_._v(" "),i("p",[_._v("yr")]),_._v(" "),i("p",[_._v(",party")]),_._v(" "),i("p",[_._v(", votes")]),_._v(" "),i("p",[_._v("from ge")]),_._v(" "),i("p",[_._v("where constituency = 'S14000021'")]),_._v(" "),i("p",[_._v("order by party,yr")])])]),_._v(" "),i("li",[i("p",[_._v("还需要对筛选出的S14000021选区中的每一年的数据分区然后根据票数高到低排序,用desc降序")])]),_._v(" "),i("li",[i("p",[_._v("使用窗口函数")]),_._v(" "),i("blockquote",[i("p",[_._v("rank()over(partition by yr order by votes desc) as posn")])])]),_._v(" "),i("li",[i("p",[_._v("将窗口函数写在select子句后")]),_._v(" "),i("p",[_._v("【运行结果】")]),_._v(" "),i("ul",[i("li",[i("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/d2625a68-a25b-4331-985d-910c514ed471-9404487.jpg",alt:"img"}})])])]),_._v(" "),i("li",[i("p",[_._v("【总结】")]),_._v(" "),i("ul",[i("li",[i("p",[_._v("【窗口函数语法】")]),_._v(" "),i("blockquote",[i("p",[_._v("窗口函数 over (partition by 用于分区的字段名 order by 用于排序的字段名)")])])]),_._v(" "),i("li",[i("p",[_._v("常用窗口函数")]),_._v(" "),i("ul",[i("li",[i("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/38650b76-a784-46fc-a545-be5cc2483302-9404487.jpg",alt:"img"}})])])])])])])])}),[],!1,null,null,null);v.default=t.exports}}]);